find_library(IRC_CORE_LIBRARY NAMES IrcCore PATHS /opt/libcommuni PATH_SUFFIXES lib libs)
find_library(IRC_MODEL_LIBRARY NAMES IrcModel PATHS /opt/libcommuni PATH_SUFFIXES lib libs)
find_library(IRC_UTIL_LIBRARY NAMES IrcUtil PATHS /opt/libcommuni PATH_SUFFIXES lib libs)
find_path(IRC_CORE_INCLUDE_DIR NAMES "ircglobal.h" PATHS /opt/libcommuni/include PATH_SUFFIXES IrcCore)
find_path(IRC_MODEL_INCLUDE_DIR NAMES "ircmodel.h" PATHS /opt/libcommuni/include PATH_SUFFIXES IrcModel)
find_path(IRC_UTIL_INCLUDE_DIR NAMES "ircutil.h" PATHS /opt/libcommuni/include PATH_SUFFIXES IrcUtil)

#set(IRC_LIBRARIES ${IRC_CORE_LIBRARY} ${IRC_MODEL_LIBRARY} ${IRC_UTIL_LIBRARY})
#set(IRC_INCLUDE_DIRS ${IRC_CORE_INCLUDE_DIR} ${IRC_MODEL_INCLUDE_DIR} ${IRC_UTIL_INCLUDE_DIR})

add_library(IrcCore SHARED IMPORTED)
add_library(IrcModel SHARED IMPORTED)
add_library(IrcUtil SHARED IMPORTED)
set_property(TARGET IrcCore APPEND PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${IRC_CORE_INCLUDE_DIR})
set_property(TARGET IrcModel APPEND PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${IRC_MODEL_INCLUDE_DIR})
set_property(TARGET IrcUtil APPEND PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${IRC_UTIL_INCLUDE_DIR})
set_property(TARGET IrcCore PROPERTY IMPORTED_LOCATION ${IRC_CORE_LIBRARY})
set_property(TARGET IrcModel PROPERTY IMPORTED_LOCATION ${IRC_MODEL_LIBRARY})
set_property(TARGET IrcUtil PROPERTY IMPORTED_LOCATION ${IRC_UTIL_LIBRARY})
set_property(TARGET IrcModel PROPERTY INTERFACE_LINK_LIBRARIES IrcCore)
set_property(TARGET IrcUtil PROPERTY INTERFACE_LINK_LIBRARIES IrcCore IrcModel)
set_property(TARGET IrcCore PROPERTY INTERFACE_COMPILE_DEFINITIONS IRC_SHARED)
set_property(TARGET IrcModel PROPERTY INTERFACE_COMPILE_DEFINITIONS IRC_SHARED)
set_property(TARGET IrcUtil PROPERTY INTERFACE_COMPILE_DEFINITIONS IRC_SHARED)

include(FindPackageHandleStandardArgs)
find_package_handle_standard_args(LibCommuni DEFAULT_MSG IRC_CORE_LIBRARY IRC_MODEL_LIBRARY IRC_UTIL_LIBRARY IRC_CORE_INCLUDE_DIR IRC_MODEL_INCLUDE_DIR IRC_UTIL_INCLUDE_DIR)
mark_as_advanced(IRC_CORE_LIBRARY IRC_MODEL_LIBRARY IRC_UTIL_LIBRARY IRC_CORE_INCLUDE_DIR IRC_MODEL_INCLUDE_DIR IRC_UTIL_INCLUDE_DIR)
